:root{
  /* Paleta Medianoche */
  --bg-deep: #0b0f1a;
  --bg-ink: #121827;
  --glass: rgba(255,255,255,.08);
  --glass-border: rgba(255,255,255,.22);
  --ink-1: #e9e4ff;    /* texto principal (marfil frío) */
  --ink-2: #c9c4e4;    /* texto secundario */
  --gold:  #e7c77a;    /* acentos */
  --rose:  #ff6f91;    /* rosa acento */
  --blur:  14px;
}

*{box-sizing:border-box}
html,body{height:100%;margin:0}
body{
  color:var(--ink-2);
  font-family:"Cormorant Garamond", serif;
  font-size:1.12rem; line-height:1.7;
  background: var(--bg-deep);
}

/* ---------- Fondo: aurora + estrellas ---------- */
.bg{ position:fixed; inset:0; z-index:-2; overflow:hidden; }
#stars{ position:absolute; inset:0; width:100%; height:100%; display:block; }
.aurora{
  position:absolute; inset:-20% -10% -10% -10%; z-index:-1;
  background:
    radial-gradient(60% 40% at 20% 30%, rgba(131,96,219,.35), transparent 70%),
    radial-gradient(60% 40% at 80% 70%, rgba(255,111,145,.28), transparent 70%),
    radial-gradient(70% 45% at 50% 50%, rgba(38,198,218,.18), transparent 75%);
  filter: blur(40px) saturate(1.1);
  animation: drift 24s ease-in-out infinite alternate;
}
@keyframes drift{
  0%{ transform: translateY(-2%) translateX(-1%) scale(1.0); }
  100%{ transform: translateY(2%) translateX(1%) scale(1.05); }
}

/* ---------- Contenedor ---------- */
.wrap{
  min-height:100svh;
  display:grid; place-items:center;
  padding: clamp(24px,4vw,64px);
}

/* ---------- Tarjeta de vidrio ---------- */
.glass{
  width:min(860px, 92vw);
  border-radius:18px;
  padding: clamp(26px,5vw,48px) clamp(26px,5.5vw,56px);
  background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.06));
  backdrop-filter: blur(var(--blur));
  -webkit-backdrop-filter: blur(var(--blur));
  border: 1px solid var(--glass-border);
  box-shadow: 0 20px 60px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.12);
  position:relative; overflow:hidden;
}

/* filete dorado interior */
.glass::before{
  content:""; position:absolute; inset:10px; border-radius:14px;
  pointer-events:none;
  background: linear-gradient(45deg, #fff2b8, var(--gold), #fff2b8);
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
          mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite:xor; mask-composite:exclude;
  padding:1px; opacity:.28;
}

/* ---------- Encabezado ---------- */
.head{ text-align:center; margin-bottom: 14px; }
.rose{
  color: var(--rose);
  width:54px; height:54px; margin: 0 auto 6px;
  filter: drop-shadow(0 2px 4px rgba(0,0,0,.35));
}
.rose svg{ width:100%; height:100%; display:block; }
.title{
  margin:0; font-family:"Great Vibes", cursive; font-weight:400;
  color: var(--ink-1);
  font-size: clamp(44px, 6.8vw, 84px);
  letter-spacing:.02em;
  text-shadow: 0 1px 0 rgba(0,0,0,.6);
}
.sub{
  margin-top: 2px;
  color: var(--gold);
  letter-spacing:.06em;
  text-transform: uppercase;
  font-size: .9rem;
}

/* ---------- Carta con “reveal” ---------- */
.letter{ margin-top: 8px; }
.letter p{ margin:16px 0; color:var(--ink-2); }
.letter em, .letter strong{ color: var(--ink-1); }
.callout{
  border-left: 4px solid var(--gold);
  padding: 12px 16px;
  background: linear-gradient(90deg, rgba(231,199,122,.12), transparent 100%);
  border-radius: 0 10px 10px 0;
}

/* efecto cortina */
.reveal{
  position: relative;
  --mask: linear-gradient(#000 0 0);
  -webkit-mask: var(--mask);
          mask: var(--mask);
  -webkit-mask-size: 0% 100%;
          mask-size: 0% 100%;
  -webkit-mask-repeat: no-repeat;
          mask-repeat: no-repeat;
  transition: -webkit-mask-size .9s ease;
  transition: mask-size .9s ease;
}
.reveal.show{
  -webkit-mask-size: 100% 100%;
          mask-size: 100% 100%;
}

/* ---------- Firma animada ---------- */
.signature{
  margin-top: 22px; padding-top: 14px;
  border-top: 1px solid rgba(255,255,255,.16);
  color: var(--gold);
}
.signature svg{ width:100%; height:auto; display:block; }
#sig{
  stroke-dasharray: 720; stroke-dashoffset: 720;
  animation: draw 2.8s ease forwards;
}
@keyframes draw{ to{ stroke-dashoffset: 0; } }
.name{
  font-family:"Great Vibes", cursive;
  font-size: clamp(28px, 3.4vw, 40px);
  margin-top: 6px;
  color: var(--ink-1);
}

/* ---------- Controles ---------- */
.controls{
  display:flex; gap:10px; justify-content:center; margin-top:18px;
}
.btn{
  background: var(--gold);
  color:#2a2211;
  border:none; border-radius:999px;
  padding:10px 18px; font-weight:600; letter-spacing:.02em;
  cursor:pointer;
  box-shadow: 0 6px 18px rgba(0,0,0,.25);
  transition: transform .15s ease, filter .2s ease, box-shadow .2s ease;
}
.btn:hover{ transform: translateY(-1px); filter: saturate(1.05); }
.btn:active{ transform: translateY(0); }
.btn-ghost{
  background: transparent; color: var(--ink-1);
  border: 1px solid rgba(255,255,255,.28);
}

/* ---------- Modos de color alternos (botón “Cambiar fondo”) ---------- */
body.alt-1{
  --bg-deep: #0a0e17; --bg-ink:#111623;
  --ink-1:#fff1e3; --ink-2:#e8d8c9; --gold:#f0c987; --rose:#ff8aa1;
}
body.alt-2{
  --bg-deep: #0a1311; --bg-ink:#0f1a19;
  --ink-1:#eafffa; --ink-2:#c7efea; --gold:#89f0c9; --rose:#79e0d3;
}

/* ---------- Responsivo ---------- */
@media (max-width: 520px){
  .glass{ padding: 20px; }
  .controls{ flex-direction: column; }
}
@media (prefers-reduced-motion: reduce){
  .aurora{ animation:none }
  #sig{ animation:none; stroke-dashoffset:0 }
  .reveal{ transition:none }
}
